<?xml version="1.0" encoding="UTF-8"?>
<record_update table="sys_script_include">
    <sys_script_include action="INSERT_OR_UPDATE">
        <access>package_private</access>
        <active>true</active>
        <api_name>x_237223_mypdfgene.myPDFGeneratorScriptInclude</api_name>
        <client_callable>true</client_callable>
        <description/>
        <name>myPDFGeneratorScriptInclude</name>
        <script><![CDATA[/**********
var myPDFGeneratorScriptInclude = Class.create();
myPDFGeneratorScriptInclude.prototype = Object.extendsObject(global.AbstractAjaxProcessor, {
	modifyAndAttachPDF: function() {
		var record_sysid = this.getParameter('sysparm_my_own_parameter_1');
		return "Hello World! with sysid from ajax request: " + record_sysid;
	},
    type: 'myPDFGeneratorScriptInclude',
});
****************/
gs.info("I am in my Script Include at time: " + new GlideDateTime().getDisplayValue());
var tablename = 'incident';
var pdfDocumentName = 'myGeneratedPDFFile';
var myPDFGeneratorScriptInclude = Class.create();
myPDFGeneratorScriptInclude.prototype = Object.extendsObject(global.AbstractAjaxProcessor, {
    type: 'myPDFGeneratorScriptInclude',
	modifyAndAttachPDF: function() {
		gs.info("Inside scriptinclude function: modifyAndAttachPDF()....");
		var record_sysid = this.getParameter('sysparm_my_own_parameter_1');
		gs.info("RecordSysId To Modify: " + record_sysid);
		var gdf = new GeneralDocFormv2("My Generated PDF", tablename, record_sysid, pdfDocumentName);
		gs.info("Constructed the GeneralDocForm2 Object....");
		gdf.generate();
		gs.info("Called Generate().  Now Returning From AJAX Call.");
		return "PDF Filename: " + pdfDocumentName + " is attached to RecordID: " + record_sysid;
	}
});
]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2019-02-05 18:15:23</sys_created_on>
        <sys_id>97ae3773db932300fc20112039961966</sys_id>
        <sys_mod_count>11</sys_mod_count>
        <sys_name>myPDFGeneratorScriptInclude</sys_name>
        <sys_package display_value="MyPDFGeneratorTutorial" source="x_237223_mypdfgene">326d57f3db132300fc20112039961901</sys_package>
        <sys_policy>read</sys_policy>
        <sys_scope display_value="MyPDFGeneratorTutorial">326d57f3db132300fc20112039961901</sys_scope>
        <sys_update_name>sys_script_include_97ae3773db932300fc20112039961966</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2019-02-06 15:50:22</sys_updated_on>
    </sys_script_include>
</record_update>
